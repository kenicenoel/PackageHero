


<!DOCTYPE html>
<html lang="en" class="">
  <head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# object: http://ogp.me/ns/object# article: http://ogp.me/ns/article# profile: http://ogp.me/ns/profile#">
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta http-equiv="Content-Language" content="en">
    
    
    <title>Squire/squire.js at master · neilj/Squire</title>
    <link rel="search" type="application/opensearchdescription+xml" href="/opensearch.xml" title="GitHub">
    <link rel="fluid-icon" href="https://github.com/fluidicon.png" title="GitHub">
    <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-144.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144.png">
    <meta property="fb:app_id" content="1401488693436528">

      <meta content="@github" name="twitter:site" /><meta content="summary" name="twitter:card" /><meta content="neilj/Squire" name="twitter:title" /><meta content="Squire - HTML5 rich text editor. Try the demo integration at" name="twitter:description" /><meta content="https://avatars1.githubusercontent.com/u/275995?v=3&amp;s=400" name="twitter:image:src" />
      <meta content="GitHub" property="og:site_name" /><meta content="object" property="og:type" /><meta content="https://avatars1.githubusercontent.com/u/275995?v=3&amp;s=400" property="og:image" /><meta content="neilj/Squire" property="og:title" /><meta content="https://github.com/neilj/Squire" property="og:url" /><meta content="Squire - HTML5 rich text editor. Try the demo integration at" property="og:description" />
      <meta name="browser-stats-url" content="/_stats">
    <link rel="assets" href="https://assets-cdn.github.com/">
    <link rel="xhr-socket" href="/_sockets">
    <meta name="pjax-timeout" content="1000">
    <link rel="sudo-modal" href="/sessions/sudo_modal">

    <meta name="msapplication-TileImage" content="/windows-tile.png">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="selected-link" value="repo_source" data-pjax-transient>
      <meta name="google-analytics" content="UA-3769691-2">

    <meta content="collector.githubapp.com" name="octolytics-host" /><meta content="collector-cdn.github.com" name="octolytics-script-host" /><meta content="github" name="octolytics-app-id" /><meta content="B5BC1F59:656C:ADBE6:55118192" name="octolytics-dimension-request_id" /><meta content="8845547" name="octolytics-actor-id" /><meta content="kenicenoel" name="octolytics-actor-login" /><meta content="7076596523838462e5452e3192c16d417bc77f6913a8b82738660a3ee66f596e" name="octolytics-actor-hash" />
    
    <meta content="Rails, view, blob#show" name="analytics-event" />

    
    <link rel="icon" type="image/x-icon" href="https://assets-cdn.github.com/favicon.ico">


    <meta content="authenticity_token" name="csrf-param" />
<meta content="QBytjVWfyfE/QAZ9AUsinnMAEzGzYCNRrubZhDdJU339yMWxhAaOTTuahwVTU7QwI7wujmxzaAP6gE4osp++7g==" name="csrf-token" />

    <link href="https://assets-cdn.github.com/assets/github-5173106e1ce2269aaefb584ff7105d11a3526c861af3895f22d7f177ed9660c2.css" media="all" rel="stylesheet" />
    <link href="https://assets-cdn.github.com/assets/github2-40d9bf14363443ccf64a2b71208f59e8739d6288d962feba121227e0608772f3.css" media="all" rel="stylesheet" />
    
    


    <meta http-equiv="x-pjax-version" content="b3746723eedf3fc96ecd834e81bbcc04">

      
  <meta name="description" content="Squire - HTML5 rich text editor. Try the demo integration at">
  <meta name="go-import" content="github.com/neilj/Squire git https://github.com/neilj/Squire.git">

  <meta content="275995" name="octolytics-dimension-user_id" /><meta content="neilj" name="octolytics-dimension-user_login" /><meta content="2669200" name="octolytics-dimension-repository_id" /><meta content="neilj/Squire" name="octolytics-dimension-repository_nwo" /><meta content="true" name="octolytics-dimension-repository_public" /><meta content="false" name="octolytics-dimension-repository_is_fork" /><meta content="2669200" name="octolytics-dimension-repository_network_root_id" /><meta content="neilj/Squire" name="octolytics-dimension-repository_network_root_nwo" />
  <link href="https://github.com/neilj/Squire/commits/master.atom" rel="alternate" title="Recent Commits to Squire:master" type="application/atom+xml">

  </head>


  <body class="logged_in  env-production windows vis-public page-blob">
    <a href="#start-of-content" tabindex="1" class="accessibility-aid js-skip-to-content">Skip to content</a>
    <div class="wrapper">
      
      
      


        <div class="header header-logged-in true" role="banner">
  <div class="container clearfix">

    <a class="header-logo-invertocat" href="https://github.com/" data-hotkey="g d" aria-label="Homepage" data-ga-click="Header, go to dashboard, icon:logo">
  <span class="mega-octicon octicon-mark-github"></span>
</a>


      <div class="site-search repo-scope js-site-search" role="search">
          <form accept-charset="UTF-8" action="/neilj/Squire/search" class="js-site-search-form" data-global-search-url="/search" data-repo-search-url="/neilj/Squire/search" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
  <input type="text"
    class="js-site-search-field is-clearable"
    data-hotkey="s"
    name="q"
    placeholder="Search"
    data-global-scope-placeholder="Search GitHub"
    data-repo-scope-placeholder="Search"
    tabindex="1"
    autocapitalize="off">
  <div class="scope-badge">This repository</div>
</form>
      </div>
      <ul class="header-nav left" role="navigation">
        <li class="header-nav-item explore">
          <a class="header-nav-link" href="/explore" data-ga-click="Header, go to explore, text:explore">Explore</a>
        </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="https://gist.github.com" data-ga-click="Header, go to gist, text:gist">Gist</a>
          </li>
          <li class="header-nav-item">
            <a class="header-nav-link" href="/blog" data-ga-click="Header, go to blog, text:blog">Blog</a>
          </li>
        <li class="header-nav-item">
          <a class="header-nav-link" href="https://help.github.com" data-ga-click="Header, go to help, text:help">Help</a>
        </li>
      </ul>

    
<ul class="header-nav user-nav right" id="user-links">
  <li class="header-nav-item dropdown js-menu-container">
    <a class="header-nav-link name" href="/kenicenoel" data-ga-click="Header, go to profile, text:username">
      <img alt="@kenicenoel" class="avatar" data-user="8845547" height="20" src="https://avatars0.githubusercontent.com/u/8845547?v=3&amp;s=40" width="20" />
      <span class="css-truncate">
        <span class="css-truncate-target">kenicenoel</span>
      </span>
    </a>
  </li>

  <li class="header-nav-item dropdown js-menu-container">
    <a class="header-nav-link js-menu-target tooltipped tooltipped-s" href="#" aria-label="Create new..." data-ga-click="Header, create new, icon:add">
      <span class="octicon octicon-plus"></span>
      <span class="dropdown-caret"></span>
    </a>

    <div class="dropdown-menu-content js-menu-content">
      
<ul class="dropdown-menu">
  <li>
    <a href="/new" data-ga-click="Header, create new repository, icon:repo"><span class="octicon octicon-repo"></span> New repository</a>
  </li>
  <li>
    <a href="/organizations/new" data-ga-click="Header, create new organization, icon:organization"><span class="octicon octicon-organization"></span> New organization</a>
  </li>


    <li class="dropdown-divider"></li>
    <li class="dropdown-header">
      <span title="neilj/Squire">This repository</span>
    </li>
      <li>
        <a href="/neilj/Squire/issues/new" data-ga-click="Header, create new issue, icon:issue"><span class="octicon octicon-issue-opened"></span> New issue</a>
      </li>
</ul>

    </div>
  </li>

  <li class="header-nav-item">
        <a href="/notifications" aria-label="You have no unread notifications" class="header-nav-link notification-indicator tooltipped tooltipped-s" data-ga-click="Header, go to notifications, icon:read" data-hotkey="g n">
        <span class="mail-status all-read"></span>
        <span class="octicon octicon-inbox"></span>
</a>
  </li>

  <li class="header-nav-item">
    <a class="header-nav-link tooltipped tooltipped-s" href="/settings/profile" id="account_settings" aria-label="Settings" data-ga-click="Header, go to settings, icon:settings">
      <span class="octicon octicon-gear"></span>
    </a>
  </li>

  <li class="header-nav-item">
    <form accept-charset="UTF-8" action="/logout" class="logout-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="t81ho6w7ZWaGKYy0VRouKPKhhEfeOiOhHC/czg3NGjPS7X/JQZ2AV/eLngRn+1fzUGOAItcDbqyPIiFL46TlAA==" /></div>
      <button class="header-nav-link sign-out-button tooltipped tooltipped-s" aria-label="Sign out" data-ga-click="Header, sign out, icon:logout">
        <span class="octicon octicon-sign-out"></span>
      </button>
</form>  </li>

</ul>


    
  </div>
</div>

        

        


      <div id="start-of-content" class="accessibility-aid"></div>
          <div class="site" itemscope itemtype="http://schema.org/WebPage">
    <div id="js-flash-container">
      
    </div>
    <div class="pagehead repohead instapaper_ignore readability-menu">
      <div class="container">
        
<ul class="pagehead-actions">

  <li>
      <form accept-charset="UTF-8" action="/notifications/subscribe" class="js-social-container" data-autosubmit="true" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="MAPFI0/Mw0pL9gD5SFCDvaSY8qKJDaep0zd8HaR8MBQYWc28SCM6/IUhCXqD5SMr4LsPi4WVATZCiBavcDKnLQ==" /></div>    <input id="repository_id" name="repository_id" type="hidden" value="2669200" />

      <div class="select-menu js-menu-container js-select-menu">
        <a href="/neilj/Squire/subscription"
          class="btn btn-sm btn-with-count select-menu-button js-menu-target" role="button" tabindex="0" aria-haspopup="true"
          data-ga-click="Repository, click Watch settings, action:blob#show">
          <span class="js-select-button">
            <span class="octicon octicon-eye"></span>
            Watch
          </span>
        </a>
        <a class="social-count js-social-count" href="/neilj/Squire/watchers">
          100
        </a>

        <div class="select-menu-modal-holder">
          <div class="select-menu-modal subscription-menu-modal js-menu-content" aria-hidden="true">
            <div class="select-menu-header">
              <span class="select-menu-title">Notifications</span>
              <span class="octicon octicon-x js-menu-close" role="button" aria-label="Close"></span>
            </div>

            <div class="select-menu-list js-navigation-container" role="menu">

              <div class="select-menu-item js-navigation-item selected" role="menuitem" tabindex="0">
                <span class="select-menu-item-icon octicon octicon-check"></span>
                <div class="select-menu-item-text">
                  <input checked="checked" id="do_included" name="do" type="radio" value="included" />
                  <span class="select-menu-item-heading">Not watching</span>
                  <span class="description">Be notified when participating or @mentioned.</span>
                  <span class="js-select-button-text hidden-select-button-text">
                    <span class="octicon octicon-eye"></span>
                    Watch
                  </span>
                </div>
              </div>

              <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                <span class="select-menu-item-icon octicon octicon octicon-check"></span>
                <div class="select-menu-item-text">
                  <input id="do_subscribed" name="do" type="radio" value="subscribed" />
                  <span class="select-menu-item-heading">Watching</span>
                  <span class="description">Be notified of all conversations.</span>
                  <span class="js-select-button-text hidden-select-button-text">
                    <span class="octicon octicon-eye"></span>
                    Unwatch
                  </span>
                </div>
              </div>

              <div class="select-menu-item js-navigation-item " role="menuitem" tabindex="0">
                <span class="select-menu-item-icon octicon octicon-check"></span>
                <div class="select-menu-item-text">
                  <input id="do_ignore" name="do" type="radio" value="ignore" />
                  <span class="select-menu-item-heading">Ignoring</span>
                  <span class="description">Never be notified.</span>
                  <span class="js-select-button-text hidden-select-button-text">
                    <span class="octicon octicon-mute"></span>
                    Stop ignoring
                  </span>
                </div>
              </div>

            </div>

          </div>
        </div>
      </div>
</form>
  </li>

  <li>
    
  <div class="js-toggler-container js-social-container starring-container ">

    <form accept-charset="UTF-8" action="/neilj/Squire/unstar" class="js-toggler-form starred js-unstar-button" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="otpOLC+iGy/XQDli/wBnnpdSrjRioytoyCoseDUkz0V04C2NHNYV9B1Wh7Y8BTYfKfZhsub69AhC/S8x+nLiGQ==" /></div>
      <button
        class="btn btn-sm btn-with-count js-toggler-target"
        aria-label="Unstar this repository" title="Unstar neilj/Squire"
        data-ga-click="Repository, click unstar button, action:blob#show; text:Unstar">
        <span class="octicon octicon-star"></span>
        Unstar
      </button>
        <a class="social-count js-social-count" href="/neilj/Squire/stargazers">
          2,782
        </a>
</form>
    <form accept-charset="UTF-8" action="/neilj/Squire/star" class="js-toggler-form unstarred js-star-button" data-remote="true" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="2RGbYnW5esznxW2NS7W9Z7clT26c2wII/Q/euVAzNxodqrfnX+ZanchoBx80aqUMKkrlhWathEynAqYlZapD4w==" /></div>
      <button
        class="btn btn-sm btn-with-count js-toggler-target"
        aria-label="Star this repository" title="Star neilj/Squire"
        data-ga-click="Repository, click star button, action:blob#show; text:Star">
        <span class="octicon octicon-star"></span>
        Star
      </button>
        <a class="social-count js-social-count" href="/neilj/Squire/stargazers">
          2,782
        </a>
</form>  </div>

  </li>

        <li>
          <form accept-charset="UTF-8" action="/neilj/Squire/fork" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="jGwrnePwGjrjHTa81lBEZSgQJ5f8DNg0Ad9vGkm9yLp/wICG6BtLLNDQC4Xla78DaqTVA6HubihBm0WX1S4jAg==" /></div>
            <button
                type="submit"
                class="btn btn-sm btn-with-count"
                data-ga-click="Repository, show fork modal, action:blob#show; text:Fork"
                title="Fork your own copy of neilj/Squire to your account"
                aria-label="Fork your own copy of neilj/Squire to your account">
              <span class="octicon octicon-repo-forked"></span>
              Fork
            </button>
            <a href="/neilj/Squire/network" class="social-count">129</a>
</form>        </li>

</ul>

        <h1 itemscope itemtype="http://data-vocabulary.org/Breadcrumb" class="entry-title public">
          <span class="mega-octicon octicon-repo"></span>
          <span class="author"><a href="/neilj" class="url fn" itemprop="url" rel="author"><span itemprop="title">neilj</span></a></span><!--
       --><span class="path-divider">/</span><!--
       --><strong><a href="/neilj/Squire" class="js-current-repository" data-pjax="#js-repo-pjax-container">Squire</a></strong>

          <span class="page-context-loader">
            <img alt="" height="16" src="https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif" width="16" />
          </span>

        </h1>
      </div><!-- /.container -->
    </div><!-- /.repohead -->

    <div class="container">
      <div class="repository-with-sidebar repo-container new-discussion-timeline  ">
        <div class="repository-sidebar clearfix">
            
<nav class="sunken-menu repo-nav js-repo-nav js-sidenav-container-pjax js-octicon-loaders"
     role="navigation"
     data-pjax="#js-repo-pjax-container"
     data-issue-count-url="/neilj/Squire/issues/counts">
  <ul class="sunken-menu-group">
    <li class="tooltipped tooltipped-w" aria-label="Code">
      <a href="/neilj/Squire" aria-label="Code" class="selected js-selected-navigation-item sunken-menu-item" data-hotkey="g c" data-selected-links="repo_source repo_downloads repo_commits repo_releases repo_tags repo_branches /neilj/Squire">
        <span class="octicon octicon-code"></span> <span class="full-word">Code</span>
        <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif" width="16" />
</a>    </li>

      <li class="tooltipped tooltipped-w" aria-label="Issues">
        <a href="/neilj/Squire/issues" aria-label="Issues" class="js-selected-navigation-item sunken-menu-item" data-hotkey="g i" data-selected-links="repo_issues repo_labels repo_milestones /neilj/Squire/issues">
          <span class="octicon octicon-issue-opened"></span> <span class="full-word">Issues</span>
          <span class="js-issue-replace-counter"></span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif" width="16" />
</a>      </li>

    <li class="tooltipped tooltipped-w" aria-label="Pull requests">
      <a href="/neilj/Squire/pulls" aria-label="Pull requests" class="js-selected-navigation-item sunken-menu-item" data-hotkey="g p" data-selected-links="repo_pulls /neilj/Squire/pulls">
          <span class="octicon octicon-git-pull-request"></span> <span class="full-word">Pull requests</span>
          <span class="js-pull-replace-counter"></span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif" width="16" />
</a>    </li>


      <li class="tooltipped tooltipped-w" aria-label="Wiki">
        <a href="/neilj/Squire/wiki" aria-label="Wiki" class="js-selected-navigation-item sunken-menu-item" data-hotkey="g w" data-selected-links="repo_wiki /neilj/Squire/wiki">
          <span class="octicon octicon-book"></span> <span class="full-word">Wiki</span>
          <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif" width="16" />
</a>      </li>
  </ul>
  <div class="sunken-menu-separator"></div>
  <ul class="sunken-menu-group">

    <li class="tooltipped tooltipped-w" aria-label="Pulse">
      <a href="/neilj/Squire/pulse" aria-label="Pulse" class="js-selected-navigation-item sunken-menu-item" data-selected-links="pulse /neilj/Squire/pulse">
        <span class="octicon octicon-pulse"></span> <span class="full-word">Pulse</span>
        <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif" width="16" />
</a>    </li>

    <li class="tooltipped tooltipped-w" aria-label="Graphs">
      <a href="/neilj/Squire/graphs" aria-label="Graphs" class="js-selected-navigation-item sunken-menu-item" data-selected-links="repo_graphs repo_contributors /neilj/Squire/graphs">
        <span class="octicon octicon-graph"></span> <span class="full-word">Graphs</span>
        <img alt="" class="mini-loader" height="16" src="https://assets-cdn.github.com/assets/spinners/octocat-spinner-32-e513294efa576953719e4e2de888dd9cf929b7d62ed8d05f25e731d02452ab6c.gif" width="16" />
</a>    </li>
  </ul>


</nav>

              <div class="only-with-full-nav">
                  
<div class="clone-url open"
  data-protocol-type="http"
  data-url="/users/set_protocol?protocol_selector=http&amp;protocol_type=clone">
  <h3><span class="text-emphasized">HTTPS</span> clone URL</h3>
  <div class="input-group js-zeroclipboard-container">
    <input type="text" class="input-mini input-monospace js-url-field js-zeroclipboard-target"
           value="https://github.com/neilj/Squire.git" readonly="readonly">
    <span class="input-group-button">
      <button aria-label="Copy to clipboard" class="js-zeroclipboard btn btn-sm zeroclipboard-button" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>

  
<div class="clone-url "
  data-protocol-type="ssh"
  data-url="/users/set_protocol?protocol_selector=ssh&amp;protocol_type=clone">
  <h3><span class="text-emphasized">SSH</span> clone URL</h3>
  <div class="input-group js-zeroclipboard-container">
    <input type="text" class="input-mini input-monospace js-url-field js-zeroclipboard-target"
           value="git@github.com:neilj/Squire.git" readonly="readonly">
    <span class="input-group-button">
      <button aria-label="Copy to clipboard" class="js-zeroclipboard btn btn-sm zeroclipboard-button" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>

  
<div class="clone-url "
  data-protocol-type="subversion"
  data-url="/users/set_protocol?protocol_selector=subversion&amp;protocol_type=clone">
  <h3><span class="text-emphasized">Subversion</span> checkout URL</h3>
  <div class="input-group js-zeroclipboard-container">
    <input type="text" class="input-mini input-monospace js-url-field js-zeroclipboard-target"
           value="https://github.com/neilj/Squire" readonly="readonly">
    <span class="input-group-button">
      <button aria-label="Copy to clipboard" class="js-zeroclipboard btn btn-sm zeroclipboard-button" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
    </span>
  </div>
</div>



<p class="clone-options">You can clone with
  <a href="#" class="js-clone-selector" data-protocol="http">HTTPS</a>, <a href="#" class="js-clone-selector" data-protocol="ssh">SSH</a>, or <a href="#" class="js-clone-selector" data-protocol="subversion">Subversion</a>.
  <a href="https://help.github.com/articles/which-remote-url-should-i-use" class="help tooltipped tooltipped-n" aria-label="Get help on which URL is right for you.">
    <span class="octicon octicon-question"></span>
  </a>
</p>


  <a href="github-windows://openRepo/https://github.com/neilj/Squire" class="btn btn-sm sidebar-button" title="Save neilj/Squire to your computer and use it in GitHub Desktop." aria-label="Save neilj/Squire to your computer and use it in GitHub Desktop.">
    <span class="octicon octicon-device-desktop"></span>
    Clone in Desktop
  </a>

                <a href="/neilj/Squire/archive/master.zip"
                   class="btn btn-sm sidebar-button"
                   aria-label="Download the contents of neilj/Squire as a zip file"
                   title="Download the contents of neilj/Squire as a zip file"
                   rel="nofollow">
                  <span class="octicon octicon-cloud-download"></span>
                  Download ZIP
                </a>
              </div>
        </div><!-- /.repository-sidebar -->

        <div id="js-repo-pjax-container" class="repository-content context-loader-container" data-pjax-container>
          

<a href="/neilj/Squire/blob/61d5004373a6543b4728ac671f28b31d80cc72e3/build/squire.js" class="hidden js-permalink-shortcut" data-hotkey="y">Permalink</a>

<!-- blob contrib key: blob_contributors:v21:aa6de6c78d22780639e3515f71a46a57 -->

<div class="file-navigation js-zeroclipboard-container">
  
<div class="select-menu js-menu-container js-select-menu left">
  <span class="btn btn-sm select-menu-button js-menu-target css-truncate" data-hotkey="w"
    data-master-branch="master"
    data-ref="master"
    title="master"
    role="button" aria-label="Switch branches or tags" tabindex="0" aria-haspopup="true">
    <span class="octicon octicon-git-branch"></span>
    <i>branch:</i>
    <span class="js-select-button css-truncate-target">master</span>
  </span>

  <div class="select-menu-modal-holder js-menu-content js-navigation-container" data-pjax aria-hidden="true">

    <div class="select-menu-modal">
      <div class="select-menu-header">
        <span class="select-menu-title">Switch branches/tags</span>
        <span class="octicon octicon-x js-menu-close" role="button" aria-label="Close"></span>
      </div>

      <div class="select-menu-filters">
        <div class="select-menu-text-filter">
          <input type="text" aria-label="Filter branches/tags" id="context-commitish-filter-field" class="js-filterable-field js-navigation-enable" placeholder="Filter branches/tags">
        </div>
        <div class="select-menu-tabs">
          <ul>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="branches" data-filter-placeholder="Filter branches/tags" class="js-select-menu-tab">Branches</a>
            </li>
            <li class="select-menu-tab">
              <a href="#" data-tab-filter="tags" data-filter-placeholder="Find a tag…" class="js-select-menu-tab">Tags</a>
            </li>
          </ul>
        </div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="branches">

        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/neilj/Squire/blob/Squire-UI/build/squire.js"
               data-name="Squire-UI"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="Squire-UI">
                Squire-UI
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open "
               href="/neilj/Squire/blob/gh-pages/build/squire.js"
               data-name="gh-pages"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="gh-pages">
                gh-pages
              </span>
            </a>
            <a class="select-menu-item js-navigation-item js-navigation-open selected"
               href="/neilj/Squire/blob/master/build/squire.js"
               data-name="master"
               data-skip-pjax="true"
               rel="nofollow">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <span class="select-menu-item-text css-truncate-target" title="master">
                master
              </span>
            </a>
        </div>

          <div class="select-menu-no-results">Nothing to show</div>
      </div>

      <div class="select-menu-list select-menu-tab-bucket js-select-menu-tab-bucket" data-tab-filter="tags">
        <div data-filterable-for="context-commitish-filter-field" data-filterable-type="substring">


            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/neilj/Squire/tree/v1.1.0/build/squire.js"
                 data-name="v1.1.0"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="v1.1.0">v1.1.0</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/neilj/Squire/tree/v1.0.1/build/squire.js"
                 data-name="v1.0.1"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="v1.0.1">v1.0.1</a>
            </div>
            <div class="select-menu-item js-navigation-item ">
              <span class="select-menu-item-icon octicon octicon-check"></span>
              <a href="/neilj/Squire/tree/v1.0.0/build/squire.js"
                 data-name="v1.0.0"
                 data-skip-pjax="true"
                 rel="nofollow"
                 class="js-navigation-open select-menu-item-text css-truncate-target"
                 title="v1.0.0">v1.0.0</a>
            </div>
        </div>

        <div class="select-menu-no-results">Nothing to show</div>
      </div>

    </div>
  </div>
</div>

  <div class="btn-group right">
    <a href="/neilj/Squire/find/master"
          class="js-show-file-finder btn btn-sm empty-icon tooltipped tooltipped-s"
          data-pjax
          data-hotkey="t"
          aria-label="Quickly jump between files">
      <span class="octicon octicon-list-unordered"></span>
    </a>
    <button aria-label="Copy file path to clipboard" class="js-zeroclipboard btn btn-sm zeroclipboard-button" data-copied-hint="Copied!" type="button"><span class="octicon octicon-clippy"></span></button>
  </div>

  <div class="breadcrumb js-zeroclipboard-target">
    <span class='repo-root js-repo-root'><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/neilj/Squire" class="" data-branch="master" data-direction="back" data-pjax="true" itemscope="url"><span itemprop="title">Squire</span></a></span></span><span class="separator">/</span><span itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb"><a href="/neilj/Squire/tree/master/build" class="" data-branch="master" data-direction="back" data-pjax="true" itemscope="url"><span itemprop="title">build</span></a></span><span class="separator">/</span><strong class="final-path">squire.js</strong>
  </div>
</div>


  <div class="commit file-history-tease">
    <div class="file-history-tease-header">
        <img alt="@neilj" class="avatar" data-user="275995" height="24" src="https://avatars0.githubusercontent.com/u/275995?v=3&amp;s=48" width="24" />
        <span class="author"><a href="/neilj" rel="author">neilj</a></span>
        <time datetime="2015-03-18T10:19:15Z" is="relative-time">Mar 18, 2015</time>
        <div class="commit-title">
            <a href="/neilj/Squire/commit/1362383aea234340987cde18bbc68fff39735c51" class="message" data-pjax="true" title="Fire &quot;select&quot; event whenever selected range is not collapsed

Fixes #50.">Fire "select" event whenever selected range is not collapsed</a>
        </div>
    </div>

    <div class="participation">
      <p class="quickstat">
        <a href="#blob_contributors_box" rel="facebox">
          <strong>1</strong>
           contributor
        </a>
      </p>
      
    </div>
    <div id="blob_contributors_box" style="display:none">
      <h2 class="facebox-header">Users who have contributed to this file</h2>
      <ul class="facebox-user-list">
          <li class="facebox-user-list-item">
            <img alt="@neilj" data-user="275995" height="24" src="https://avatars0.githubusercontent.com/u/275995?v=3&amp;s=48" width="24" />
            <a href="/neilj">neilj</a>
          </li>
      </ul>
    </div>
  </div>

<div class="file">
  <div class="file-header">
    <div class="file-actions">

      <div class="btn-group">
        <a href="/neilj/Squire/raw/master/build/squire.js" class="btn btn-sm " id="raw-url">Raw</a>
          <a href="/neilj/Squire/blame/master/build/squire.js" class="btn btn-sm js-update-url-with-hash">Blame</a>
        <a href="/neilj/Squire/commits/master/build/squire.js" class="btn btn-sm " rel="nofollow">History</a>
      </div>

        <a class="octicon-btn tooltipped tooltipped-nw"
           href="github-windows://openRepo/https://github.com/neilj/Squire?branch=master&amp;filepath=build%2Fsquire.js"
           aria-label="Open this file in GitHub for Windows">
            <span class="octicon octicon-device-desktop"></span>
        </a>

            <form accept-charset="UTF-8" action="/neilj/Squire/edit/master/build/squire.js" class="inline-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="0ijTJNMyl15EHWKe+qgcfZAahgioKNT9x93aRhtUr4ov4I8v3kptDDVwH/vRz8w0Mh3rGDZGOYVX/idT4evGBw==" /></div>
              <button class="octicon-btn tooltipped tooltipped-n" type="submit" aria-label="Clicking this button will fork this project so you can edit the file" data-hotkey="e" data-disable-with>
                <span class="octicon octicon-pencil"></span>
              </button>
</form>
          <form accept-charset="UTF-8" action="/neilj/Squire/delete/master/build/squire.js" class="inline-form" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /><input name="authenticity_token" type="hidden" value="BJamfS6WJCnaAUXMsIougnuRMayiYZRCq/qlP0pWFXKLhDauLjvfDf1HT3srOjT8FT/ySx6f9XPNpaFY0Txgrg==" /></div>
            <button class="octicon-btn octicon-btn-danger tooltipped tooltipped-n" type="submit" aria-label="Fork this project and delete file" data-disable-with>
              <span class="octicon octicon-trashcan"></span>
            </button>
</form>    </div>

    <div class="file-info">
        2 lines (2 sloc)
        <span class="file-info-divider"></span>
      35.535 kb
    </div>
  </div>
  
  <div class="blob-wrapper data type-javascript">
      <table class="highlight tab-size-8 js-file-line-container">
      <tr>
        <td id="L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="LC1" class="blob-code js-file-line">!function(e,t){&quot;use strict&quot;;function n(e,t,n){this.root=this.currentNode=e,this.nodeType=t,this.filter=n}function r(e,t){for(var n=e.length;n--;)if(!t(e[n]))return!1;return!0}function o(e,t,n){if(e.nodeName!==t)return!1;for(var r in n)if(e.getAttribute(r)!==n[r])return!1;return!0}function i(e,t){return e.nodeType===t.nodeType&amp;&amp;e.nodeName===t.nodeName&amp;&amp;e.className===t.className&amp;&amp;(!e.style&amp;&amp;!t.style||e.style.cssText===t.style.cssText)}function a(e){return e.nodeType===L&amp;&amp;!!et[e.nodeName]}function s(e){return J.test(e.nodeName)}function d(e){return e.nodeType===L&amp;&amp;!s(e)&amp;&amp;r(e.childNodes,s)}function l(e){return e.nodeType===L&amp;&amp;!s(e)&amp;&amp;!d(e)}function c(e){var t=e.ownerDocument,r=new n(t.body,O,d,!1);return r.currentNode=e,r}function f(e){return c(e).previousNode()}function h(e){return c(e).nextNode()}function u(e,t,n){do if(o(e,t,n))return e;while(e=e.parentNode);return null}function p(e){var t,n,r,o,i=e.parentNode;return i&amp;&amp;e.nodeType===L?(t=p(i),t+=(t?&quot;&gt;&quot;:&quot;&quot;)+e.nodeName,(n=e.id)&amp;&amp;(t+=&quot;#&quot;+n),(r=e.className.trim())&amp;&amp;(o=r.split(/\s\s*/),o.sort(),t+=&quot;.&quot;,t+=o.join(&quot;.&quot;))):t=i?p(i):&quot;&quot;,t}function g(e){var t=e.nodeType;return t===L?e.childNodes.length:e.length||0}function m(e){var t=e.parentNode;return t&amp;&amp;t.removeChild(e),e}function v(e,t){var n=e.parentNode;n&amp;&amp;n.replaceChild(t,e)}function N(e){for(var t=e.ownerDocument.createDocumentFragment(),n=e.childNodes,r=n?n.length:0;r--;)t.appendChild(e.firstChild);return t}function C(e,n,r,o){var i,a,s,d,l=e.createElement(n);if(r instanceof Array&amp;&amp;(o=r,r=null),r)for(i in r)a=r[i],a!==t&amp;&amp;l.setAttribute(i,r[i]);if(o)for(s=0,d=o.length;d&gt;s;s+=1)l.appendChild(o[s]);return l}function S(e){var t,n,r,o,i=e.ownerDocument,d=e;if(&quot;BODY&quot;===e.nodeName&amp;&amp;((n=e.firstChild)&amp;&amp;&quot;BR&quot;!==n.nodeName||(t=i.createElement(&quot;DIV&quot;),n?e.replaceChild(t,n):e.appendChild(t),e=t,t=null)),s(e)){for(n=e.firstChild;Q&amp;&amp;n&amp;&amp;n.nodeType===x&amp;&amp;!n.data;)e.removeChild(n),n=e.firstChild;if(!n)if(Q)for(t=i.createTextNode(P),r=Nt.length;r--;)o=Nt[r],o._doc===i&amp;&amp;o._didAddZWS();else t=i.createTextNode(&quot;&quot;)}else if(q){for(;e.nodeType!==x&amp;&amp;!a(e);){if(n=e.firstChild,!n){t=i.createTextNode(&quot;&quot;);break}e=n}e.nodeType===x?/^ +$/.test(e.data)&amp;&amp;(e.data=&quot;&quot;):a(e)&amp;&amp;e.parentNode.insertBefore(i.createTextNode(&quot;&quot;),e)}else if(!e.querySelector(&quot;BR&quot;))for(t=i.createElement(&quot;BR&quot;);(n=e.lastElementChild)&amp;&amp;!s(n);)e=n;return t&amp;&amp;e.appendChild(t),d}function _(e){var t,n,r,o,i=e.childNodes,a=e.ownerDocument,d=null;for(t=0,n=i.length;n&gt;t;t+=1)r=i[t],o=&quot;BR&quot;===r.nodeName,!o&amp;&amp;s(r)?(d||(d=C(a,&quot;DIV&quot;)),d.appendChild(r),t-=1,n-=1):(o||d)&amp;&amp;(d||(d=C(a,&quot;DIV&quot;)),S(d),o?e.replaceChild(d,r):(e.insertBefore(d,r),t+=1,n+=1),d=null),l(r)&amp;&amp;_(r);return d&amp;&amp;e.appendChild(S(d)),e}function y(e,t,n){var r,o,i,a=e.nodeType;if(a===x&amp;&amp;e!==n)return y(e.parentNode,e.splitText(t),n);if(a===L){if(&quot;number&quot;==typeof t&amp;&amp;(t=t&lt;e.childNodes.length?e.childNodes[t]:null),e===n)return t;for(r=e.parentNode,o=e.cloneNode(!1);t;)i=t.nextSibling,o.appendChild(t),t=i;return&quot;OL&quot;===e.nodeName&amp;&amp;(o.start=(+e.start||1)+e.childNodes.length-1),S(e),S(o),(i=e.nextSibling)?r.insertBefore(o,i):r.appendChild(o),y(r,o,n)}return t}function T(e,t){if(e.nodeType===L)for(var n,r,o,a=e.childNodes,d=a.length,l=[];d--;)if(n=a[d],r=d&amp;&amp;a[d-1],d&amp;&amp;s(n)&amp;&amp;i(n,r)&amp;&amp;!et[n.nodeName])t.startContainer===n&amp;&amp;(t.startContainer=r,t.startOffset+=g(r)),t.endContainer===n&amp;&amp;(t.endContainer=r,t.endOffset+=g(r)),t.startContainer===e&amp;&amp;(t.startOffset&gt;d?t.startOffset-=1:t.startOffset===d&amp;&amp;(t.startContainer=r,t.startOffset=g(r))),t.endContainer===e&amp;&amp;(t.endOffset&gt;d?t.endOffset-=1:t.endOffset===d&amp;&amp;(t.endContainer=r,t.endOffset=g(r))),m(n),n.nodeType===x?r.appendData(n.data):l.push(N(n));else if(n.nodeType===L){for(o=l.length;o--;)n.appendChild(l.pop());T(n,t)}}function E(e,t,n){for(var r,o,i,a=t;1===a.parentNode.childNodes.length;)a=a.parentNode;m(a),o=e.childNodes.length,r=e.lastChild,r&amp;&amp;&quot;BR&quot;===r.nodeName&amp;&amp;(e.removeChild(r),o-=1),i={startContainer:e,startOffset:o,endContainer:e,endOffset:o},e.appendChild(N(t)),T(e,i),n.setStart(i.startContainer,i.startOffset),n.collapse(!0),z&amp;&amp;(r=e.lastChild)&amp;&amp;&quot;BR&quot;===r.nodeName&amp;&amp;e.removeChild(r)}function B(e){var t,n,r=e.previousSibling,o=e.firstChild,a=e.ownerDocument,s=&quot;LI&quot;===e.nodeName;if(!s||o&amp;&amp;/^[OU]L$/.test(o.nodeName))if(r&amp;&amp;i(r,e)){if(!l(r)){if(!s)return;n=a.createElement(&quot;DIV&quot;),n.appendChild(N(r)),r.appendChild(n)}m(e),t=!l(e),r.appendChild(N(e)),t&amp;&amp;_(r),o&amp;&amp;B(o)}else s&amp;&amp;(r=a.createElement(&quot;DIV&quot;),e.insertBefore(r,o),S(r))}function k(e){var t,n=e.defaultView,r=e.body;this._win=n,this._doc=e,this._body=r,this._events={},this._sel=n.getSelection(),this._lastSelection=null,G&amp;&amp;this.addEventListener(&quot;beforedeactivate&quot;,this.getSelection),this._hasZWS=!1,this._lastAnchorNode=null,this._lastFocusNode=null,this._path=&quot;&quot;,this.addEventListener(&quot;keyup&quot;,this._updatePathOnEvent),this.addEventListener(&quot;mouseup&quot;,this._updatePathOnEvent),n.addEventListener(&quot;focus&quot;,this,!1),n.addEventListener(&quot;blur&quot;,this,!1),this._undoIndex=-1,this._undoStack=[],this._undoStackLength=0,this._isInUndoState=!1,this._ignoreChange=!1,$?(t=new MutationObserver(this._docWasChanged.bind(this)),t.observe(r,{childList:!0,attributes:!0,characterData:!0,subtree:!0}),this._mutation=t):this.addEventListener(&quot;keyup&quot;,this._keyUpDetectChange),this.defaultBlockTag=&quot;DIV&quot;,this.defaultBlockProperties=null,this._awaitingPaste=!1,this.addEventListener(K?&quot;beforecut&quot;:&quot;cut&quot;,this._onCut),this.addEventListener(K?&quot;beforepaste&quot;:&quot;paste&quot;,this._onPaste),this.addEventListener(z?&quot;keypress&quot;:&quot;keydown&quot;,this._onKey),K&amp;&amp;(n.Text.prototype.splitText=function(e){var t=this.ownerDocument.createTextNode(this.data.slice(e)),n=this.nextSibling,r=this.parentNode,o=this.length-e;return n?r.insertBefore(t,n):r.appendChild(t),o&amp;&amp;this.deleteData(e,o),t}),r.setAttribute(&quot;contenteditable&quot;,&quot;true&quot;),this.setHTML(&quot;&quot;);try{e.execCommand(&quot;enableObjectResizing&quot;,!1,&quot;false&quot;),e.execCommand(&quot;enableInlineTableEditing&quot;,!1,&quot;false&quot;)}catch(o){}Nt.push(this)}var b=2,L=1,x=3,O=1,A=4,R=0,D=1,U=2,I=3,P=&quot;​&quot;,w=e.defaultView,F=navigator.userAgent,M=/iP(?:ad|hone|od)/.test(F),W=/Mac OS X/.test(F),H=/Gecko\//.test(F),K=/Trident\/[456]\./.test(F),z=!!w.opera,Z=/WebKit\//.test(F),V=W?&quot;meta-&quot;:&quot;ctrl-&quot;,q=K||z,Q=K||Z,G=K,$=&quot;undefined&quot;!=typeof MutationObserver,Y=/[^ \t\r\n]/,j=Array.prototype.indexOf,X={1:1,2:2,3:4,8:128,9:256,11:1024};n.prototype.nextNode=function(){for(var e,t=this.currentNode,n=this.root,r=this.nodeType,o=this.filter;;){for(e=t.firstChild;!e&amp;&amp;t&amp;&amp;t!==n;)e=t.nextSibling,e||(t=t.parentNode);if(!e)return null;if(X[e.nodeType]&amp;r&amp;&amp;o(e))return this.currentNode=e,e;t=e}},n.prototype.previousNode=function(){for(var e,t=this.currentNode,n=this.root,r=this.nodeType,o=this.filter;;){if(t===n)return null;if(e=t.previousSibling)for(;t=e.lastChild;)e=t;else e=t.parentNode;if(!e)return null;if(X[e.nodeType]&amp;r&amp;&amp;o(e))return this.currentNode=e,e;t=e}};var J=/^(?:#text|A(?:BBR|CRONYM)?|B(?:R|D[IO])?|C(?:ITE|ODE)|D(?:ATA|FN|EL)|EM|FONT|HR|I(?:NPUT|MG|NS)?|KBD|Q|R(?:P|T|UBY)|S(?:U[BP]|PAN|TR(?:IKE|ONG)|MALL|AMP)?|U|VAR|WBR)$/,et={BR:1,IMG:1,INPUT:1},tt=function(e,t){for(var n=e.childNodes;t&amp;&amp;e.nodeType===L;)e=n[t-1],n=e.childNodes,t=n.length;return e},nt=function(e,t){if(e.nodeType===L){var n=e.childNodes;if(t&lt;n.length)e=n[t];else{for(;e&amp;&amp;!e.nextSibling;)e=e.parentNode;e&amp;&amp;(e=e.nextSibling)}}return e},rt=function(e,t){e=e.cloneRange(),ct(e);for(var r=e.startContainer,o=e.endContainer,i=e.commonAncestorContainer,a=new n(i,A,function(){return!0},!1),s=a.currentNode=r;!t(s,e)&amp;&amp;s!==o&amp;&amp;(s=a.nextNode()););},ot=function(e){var t=&quot;&quot;;return rt(e,function(e,n){var r=e.data;r&amp;&amp;/\S/.test(r)&amp;&amp;(e===n.endContainer&amp;&amp;(r=r.slice(0,n.endOffset)),e===n.startContainer&amp;&amp;(r=r.slice(n.startOffset)),t+=r)}),t},it=function(e,t){var n,r,o,i,a=e.startContainer,s=e.startOffset,d=e.endContainer,l=e.endOffset;a.nodeType===x?(n=a.parentNode,r=n.childNodes,s===a.length?(s=j.call(r,a)+1,e.collapsed&amp;&amp;(d=n,l=s)):(s&amp;&amp;(i=a.splitText(s),d===a?(l-=s,d=i):d===n&amp;&amp;(l+=1),a=i),s=j.call(r,a)),a=n):r=a.childNodes,o=r.length,s===o?a.appendChild(t):a.insertBefore(t,r[s]),a===d&amp;&amp;(l+=r.length-o),e.setStart(a,s),e.setEnd(d,l)},at=function(e,t){var n=e.startContainer,r=e.startOffset,o=e.endContainer,i=e.endOffset;t||(t=e.commonAncestorContainer),t.nodeType===x&amp;&amp;(t=t.parentNode);for(var a,s,d,l=y(o,i,t),c=y(n,r,t),f=t.ownerDocument.createDocumentFragment();c!==l;)a=c.nextSibling,f.appendChild(c),c=a;return n=t,r=l?j.call(t.childNodes,l):t.childNodes.length,d=t.childNodes[r],s=d&amp;&amp;d.previousSibling,s&amp;&amp;s.nodeType===x&amp;&amp;d.nodeType===x&amp;&amp;(n=s,r=s.length,s.appendData(d.data),m(d)),e.setStart(n,r),e.collapse(!0),S(t),f},st=function(e){ft(e),at(e),ct(e);var t=ht(e),n=ut(e);t&amp;&amp;n&amp;&amp;t!==n&amp;&amp;E(t,n,e),t&amp;&amp;S(t);var r=e.endContainer.ownerDocument.body,o=r.firstChild;o&amp;&amp;&quot;BR&quot;!==o.nodeName||(S(r),e.selectNodeContents(r.firstChild))},dt=function(e,t){for(var n=!0,r=t.childNodes,o=r.length;o--;)if(!s(r[o])){n=!1;break}if(e.collapsed||st(e),ct(e),n)it(e,t),e.collapse(!1);else{for(var i,a,d=y(e.startContainer,e.startOffset,e.startContainer.ownerDocument.body),l=d.previousSibling,c=l,f=c.childNodes.length,u=d,p=0,m=d.parentNode;(i=c.lastChild)&amp;&amp;i.nodeType===L&amp;&amp;&quot;BR&quot;!==i.nodeName;)c=i,f=c.childNodes.length;for(;(i=u.firstChild)&amp;&amp;i.nodeType===L&amp;&amp;&quot;BR&quot;!==i.nodeName;)u=i;for(;(i=t.firstChild)&amp;&amp;s(i);)c.appendChild(i);for(;(i=t.lastChild)&amp;&amp;s(i);)u.insertBefore(i,u.firstChild),p+=1;for(a=t;a=h(a);)S(a);m.insertBefore(t,d),a=d.previousSibling,d.textContent?B(d):m.removeChild(d),d.parentNode||(u=a,p=g(u)),l.textContent?B(l):(c=l.nextSibling,f=0,m.removeChild(l)),e.setStart(c,f),e.setEnd(u,p),ct(e)}},lt=function(e,t,n){var r=t.ownerDocument.createRange();if(r.selectNode(t),n){var o=e.compareBoundaryPoints(I,r)&gt;-1,i=e.compareBoundaryPoints(D,r)&lt;1;return!o&amp;&amp;!i}var a=e.compareBoundaryPoints(R,r)&lt;1,s=e.compareBoundaryPoints(U,r)&gt;-1;return a&amp;&amp;s},ct=function(e){for(var t,n=e.startContainer,r=e.startOffset,o=e.endContainer,i=e.endOffset;n.nodeType!==x&amp;&amp;(t=n.childNodes[r],t&amp;&amp;!a(t));)n=t,r=0;if(i)for(;o.nodeType!==x&amp;&amp;(t=o.childNodes[i-1],t&amp;&amp;!a(t));)o=t,i=g(o);else for(;o.nodeType!==x&amp;&amp;(t=o.firstChild,t&amp;&amp;!a(t));)o=t;e.collapsed?(e.setStart(o,i),e.setEnd(n,r)):(e.setStart(n,r),e.setEnd(o,i))},ft=function(e,t){var n,r=e.startContainer,o=e.startOffset,i=e.endContainer,a=e.endOffset;for(t||(t=e.commonAncestorContainer);r!==t&amp;&amp;!o;)n=r.parentNode,o=j.call(n.childNodes,r),r=n;for(;i!==t&amp;&amp;a===g(i);)n=i.parentNode,a=j.call(n.childNodes,i)+1,i=n;e.setStart(r,o),e.setEnd(i,a)},ht=function(e){var t,n=e.startContainer;return s(n)?t=f(n):d(n)?t=n:(t=tt(n,e.startOffset),t=h(t)),t&amp;&amp;lt(e,t,!0)?t:null},ut=function(e){var t,n,r=e.endContainer;if(s(r))t=f(r);else if(d(r))t=r;else{if(t=nt(r,e.endOffset),!t)for(t=r.ownerDocument.body;n=t.lastChild;)t=n;t=f(t)}return t&amp;&amp;lt(e,t,!0)?t:null},pt=new n(null,A|O,function(e){return e.nodeType===x?Y.test(e.data):&quot;IMG&quot;===e.nodeName}),gt=function(e){var t=e.startContainer,n=e.startOffset;if(t.nodeType===x){if(n)return!1;pt.currentNode=t}else pt.currentNode=nt(t,n);return pt.root=ht(e),!pt.previousNode()},mt=function(e){var t,n=e.endContainer,r=e.endOffset;if(n.nodeType===x){if(t=n.data.length,t&amp;&amp;t&gt;r)return!1;pt.currentNode=n}else pt.currentNode=tt(n,r);return pt.root=ut(e),!pt.nextNode()},vt=function(e){var t,n=ht(e),r=ut(e);n&amp;&amp;r&amp;&amp;(t=n.parentNode,e.setStart(t,j.call(t.childNodes,n)),t=r.parentNode,e.setEnd(t,j.call(t.childNodes,r)+1))},Nt=[],Ct=k.prototype;Ct.createElement=function(e,t,n){return C(this._doc,e,t,n)},Ct.createDefaultBlock=function(e){return S(this.createElement(this.defaultBlockTag,this.defaultBlockProperties,e))},Ct.didError=function(e){console.log(e)},Ct.getDocument=function(){return this._doc};var St={focus:1,blur:1,pathChange:1,select:1,input:1,undoStateChange:1};Ct.fireEvent=function(e,t){var n,r,o,i=this._events[e];if(i)for(t||(t={}),t.type!==e&amp;&amp;(t.type=e),i=i.slice(),n=0,r=i.length;r&gt;n;n+=1){o=i[n];try{o.handleEvent?o.handleEvent(t):o.call(this,t)}catch(a){a.details=&quot;Squire: fireEvent error. Event type: &quot;+e,this.didError(a)}}return this},Ct.destroy=function(){var e,t=this._win,n=this._doc,r=this._events;t.removeEventListener(&quot;focus&quot;,this,!1),t.removeEventListener(&quot;blur&quot;,this,!1);for(e in r)St[e]||n.removeEventListener(e,this,!0);this._mutation&amp;&amp;this._mutation.disconnect();for(var o=Nt.length;o--;)Nt[o]===this&amp;&amp;Nt.splice(o,1)},Ct.handleEvent=function(e){this.fireEvent(e.type,e)},Ct.addEventListener=function(e,t){var n=this._events[e];return t?(n||(n=this._events[e]=[],St[e]||this._doc.addEventListener(e,this,!0)),n.push(t),this):(this.didError({name:&quot;Squire: addEventListener with null or undefined fn&quot;,message:&quot;Event type: &quot;+e}),this)},Ct.removeEventListener=function(e,t){var n,r=this._events[e];if(r){for(n=r.length;n--;)r[n]===t&amp;&amp;r.splice(n,1);r.length||(delete this._events[e],St[e]||this._doc.removeEventListener(e,this,!1))}return this},Ct._createRange=function(e,t,n,r){if(e instanceof this._win.Range)return e.cloneRange();var o=this._doc.createRange();return o.setStart(e,t),n?o.setEnd(n,r):o.setEnd(e,t),o},Ct.setSelection=function(e){if(e){M&amp;&amp;this._win.focus();var t=this._sel;t.removeAllRanges(),t.addRange(e)}return this},Ct.getSelection=function(){var e,t,n,r=this._sel;return r.rangeCount?(e=r.getRangeAt(0).cloneRange(),t=e.startContainer,n=e.endContainer,t&amp;&amp;a(t)&amp;&amp;e.setStartBefore(t),n&amp;&amp;a(n)&amp;&amp;e.setEndBefore(n),this._lastSelection=e):e=this._lastSelection,e||(e=this._createRange(this._body.firstChild,0)),e},Ct.getSelectedText=function(){return ot(this.getSelection())},Ct.getPath=function(){return this._path};var _t=function(e){for(var t,r,o=new n(e,A,function(){return!0},!1);t=o.nextNode();)for(;(r=t.data.indexOf(P))&gt;-1;)t.deleteData(r,1)};Ct._didAddZWS=function(){this._hasZWS=!0},Ct._removeZWS=function(){this._hasZWS&amp;&amp;(_t(this._body),this._hasZWS=!1)},Ct._updatePath=function(e,t){var n,r=e.startContainer,o=e.endContainer;(t||r!==this._lastAnchorNode||o!==this._lastFocusNode)&amp;&amp;(this._lastAnchorNode=r,this._lastFocusNode=o,n=r&amp;&amp;o?r===o?p(o):&quot;(selection)&quot;:&quot;&quot;,this._path!==n&amp;&amp;(this._path=n,this.fireEvent(&quot;pathChange&quot;,{path:n}))),e.collapsed||this.fireEvent(&quot;select&quot;)},Ct._updatePathOnEvent=function(){this._updatePath(this.getSelection())},Ct.focus=function(){return z||this._body.focus(),this._win.focus(),this},Ct.blur=function(){return H&amp;&amp;this._body.blur(),top.focus(),this};var yt=&quot;squire-selection-start&quot;,Tt=&quot;squire-selection-end&quot;;Ct._saveRangeToBookmark=function(e){var t,n=this.createElement(&quot;INPUT&quot;,{id:yt,type:&quot;hidden&quot;}),r=this.createElement(&quot;INPUT&quot;,{id:Tt,type:&quot;hidden&quot;});it(e,n),e.collapse(!1),it(e,r),n.compareDocumentPosition(r)&amp;b&amp;&amp;(n.id=Tt,r.id=yt,t=n,n=r,r=t),e.setStartAfter(n),e.setEndBefore(r)},Ct._getRangeAndRemoveBookmark=function(e){var t=this._doc,n=t.getElementById(yt),r=t.getElementById(Tt);if(n&amp;&amp;r){var o,i=n.parentNode,a=r.parentNode,s={startContainer:i,endContainer:a,startOffset:j.call(i.childNodes,n),endOffset:j.call(a.childNodes,r)};i===a&amp;&amp;(s.endOffset-=1),m(n),m(r),T(i,s),i!==a&amp;&amp;T(a,s),e||(e=t.createRange()),e.setStart(s.startContainer,s.startOffset),e.setEnd(s.endContainer,s.endOffset),o=e.collapsed,ct(e),o&amp;&amp;e.collapse(!0)}return e||null},Ct._keyUpDetectChange=function(e){var t=e.keyCode;e.ctrlKey||e.metaKey||e.altKey||!(16&gt;t||t&gt;20)||!(33&gt;t||t&gt;45)||this._docWasChanged()},Ct._docWasChanged=function(){return $&amp;&amp;this._ignoreChange?void(this._ignoreChange=!1):(this._isInUndoState&amp;&amp;(this._isInUndoState=!1,this.fireEvent(&quot;undoStateChange&quot;,{canUndo:!0,canRedo:!1})),void this.fireEvent(&quot;input&quot;))},Ct._recordUndoState=function(e){if(!this._isInUndoState){var t=this._undoIndex+=1,n=this._undoStack;t&lt;this._undoStackLength&amp;&amp;(n.length=this._undoStackLength=t),e&amp;&amp;this._saveRangeToBookmark(e),n[t]=this._getHTML(),this._undoStackLength+=1,this._isInUndoState=!0}},Ct.undo=function(){if(0!==this._undoIndex||!this._isInUndoState){this._recordUndoState(this.getSelection()),this._undoIndex-=1,this._setHTML(this._undoStack[this._undoIndex]);var e=this._getRangeAndRemoveBookmark();e&amp;&amp;this.setSelection(e),this._isInUndoState=!0,this.fireEvent(&quot;undoStateChange&quot;,{canUndo:0!==this._undoIndex,canRedo:!0}),this.fireEvent(&quot;input&quot;)}return this},Ct.redo=function(){var e=this._undoIndex,t=this._undoStackLength;if(t&gt;e+1&amp;&amp;this._isInUndoState){this._undoIndex+=1,this._setHTML(this._undoStack[this._undoIndex]);var n=this._getRangeAndRemoveBookmark();n&amp;&amp;this.setSelection(n),this.fireEvent(&quot;undoStateChange&quot;,{canUndo:!0,canRedo:t&gt;e+2}),this.fireEvent(&quot;input&quot;)}return this},Ct.hasFormat=function(e,t,r){if(e=e.toUpperCase(),t||(t={}),!r&amp;&amp;!(r=this.getSelection()))return!1;var o,i,a=r.commonAncestorContainer;if(u(a,e,t))return!0;if(a.nodeType===x)return!1;o=new n(a,A,function(e){return lt(r,e,!0)},!1);for(var s=!1;i=o.nextNode();){if(!u(i,e,t))return!1;s=!0}return s},Ct._addFormat=function(e,t,r){var o,i,a,s,d,l,c,f;if(r.collapsed)o=S(this.createElement(e,t)),it(r,o),r.setStart(o.firstChild,o.firstChild.length),r.collapse(!0);else{i=new n(r.commonAncestorContainer,A,function(e){return lt(r,e,!0)},!1),a=r.startContainer,d=r.startOffset,s=r.endContainer,l=r.endOffset,i.currentNode=a,a.nodeType!==x&amp;&amp;(a=i.nextNode(),d=0);do c=i.currentNode,f=!u(c,e,t),f&amp;&amp;(c===s&amp;&amp;c.length&gt;l&amp;&amp;c.splitText(l),c===a&amp;&amp;d&amp;&amp;(c=c.splitText(d),s===a&amp;&amp;(s=c,l-=d),a=c,d=0),o=this.createElement(e,t),v(c,o),o.appendChild(c));while(i.nextNode());s.nodeType!==x&amp;&amp;(s=c,l=c.length),r=this._createRange(a,d,s,l)}return r},Ct._removeFormat=function(e,t,n,r){this._saveRangeToBookmark(n);var i,a=this._doc;n.collapsed&amp;&amp;(Q?(i=a.createTextNode(P),this._didAddZWS()):i=a.createTextNode(&quot;&quot;),it(n,i));for(var d=n.commonAncestorContainer;s(d);)d=d.parentNode;var l=n.startContainer,c=n.startOffset,f=n.endContainer,h=n.endOffset,u=[],p=function(e,t){if(!lt(n,e,!1)){var r,o,i=e.nodeType===x;if(!lt(n,e,!0))return void(&quot;INPUT&quot;===e.nodeName||i&amp;&amp;!e.data||u.push([t,e]));if(i)e===f&amp;&amp;h!==e.length&amp;&amp;u.push([t,e.splitText(h)]),e===l&amp;&amp;c&amp;&amp;(e.splitText(c),u.push([t,e]));else for(r=e.firstChild;r;r=o)o=r.nextSibling,p(r,t)}},g=Array.prototype.filter.call(d.getElementsByTagName(e),function(r){return lt(n,r,!0)&amp;&amp;o(r,e,t)});r||g.forEach(function(e){p(e,e)}),u.forEach(function(e){var t=e[0].cloneNode(!1),n=e[1];v(n,t),t.appendChild(n)}),g.forEach(function(e){v(e,N(e))}),this._getRangeAndRemoveBookmark(n),i&amp;&amp;n.collapse(!1);var m={startContainer:n.startContainer,startOffset:n.startOffset,endContainer:n.endContainer,endOffset:n.endOffset};return T(d,m),n.setStart(m.startContainer,m.startOffset),n.setEnd(m.endContainer,m.endOffset),n},Ct.changeFormat=function(e,t,n,r){return n||(n=this.getSelection())?(this._recordUndoState(n),this._getRangeAndRemoveBookmark(n),t&amp;&amp;(n=this._removeFormat(t.tag.toUpperCase(),t.attributes||{},n,r)),e&amp;&amp;(n=this._addFormat(e.tag.toUpperCase(),e.attributes||{},n)),this.setSelection(n),this._updatePath(n,!0),$||this._docWasChanged(),this):void 0};var Et={DT:&quot;DD&quot;,DD:&quot;DT&quot;,LI:&quot;LI&quot;},Bt=function(e,t,n,r){var i=Et[t.nodeName],a=null,s=y(n,r,t.parentNode);return i||(i=e.defaultBlockTag,a=e.defaultBlockProperties),o(s,i,a)||(t=C(s.ownerDocument,i,a),s.dir&amp;&amp;(t.className=&quot;rtl&quot;===s.dir?&quot;dir-rtl&quot;:&quot;&quot;,t.dir=s.dir),v(s,t),t.appendChild(N(s)),s=t),s};Ct.forEachBlock=function(e,t,n){if(!n&amp;&amp;!(n=this.getSelection()))return this;t&amp;&amp;(this._recordUndoState(n),this._getRangeAndRemoveBookmark(n));var r=ht(n),o=ut(n);if(r&amp;&amp;o)do if(e(r)||r===o)break;while(r=h(r));return t&amp;&amp;(this.setSelection(n),this._updatePath(n,!0),$||this._docWasChanged()),this},Ct.modifyBlocks=function(e,t){if(!t&amp;&amp;!(t=this.getSelection()))return this;this._isInUndoState?this._saveRangeToBookmark(t):this._recordUndoState(t),vt(t);var n,r=this._body;return ft(t,r),n=at(t,r),it(t,e.call(this,n)),t.endOffset&lt;t.endContainer.childNodes.length&amp;&amp;B(t.endContainer.childNodes[t.endOffset]),B(t.startContainer.childNodes[t.startOffset]),this._getRangeAndRemoveBookmark(t),this.setSelection(t),this._updatePath(t,!0),$||this._docWasChanged(),this};var kt=function(e){return this.createElement(&quot;BLOCKQUOTE&quot;,[e])},bt=function(e){var t=e.querySelectorAll(&quot;blockquote&quot;);return Array.prototype.filter.call(t,function(e){return!u(e.parentNode,&quot;BLOCKQUOTE&quot;)}).forEach(function(e){v(e,N(e))}),e},Lt=function(){return this.createDefaultBlock([this.createElement(&quot;INPUT&quot;,{id:yt,type:&quot;hidden&quot;}),this.createElement(&quot;INPUT&quot;,{id:Tt,type:&quot;hidden&quot;})])},xt=function(e,n,r){for(var o,i,a,s,d=c(n);o=d.nextNode();)i=o.parentNode.nodeName,&quot;LI&quot;!==i?(s=e.createElement(&quot;LI&quot;,{&quot;class&quot;:&quot;rtl&quot;===o.dir?&quot;dir-rtl&quot;:t,dir:o.dir||t}),(a=o.previousSibling)&amp;&amp;a.nodeName===r?a.appendChild(s):v(o,e.createElement(r,[s])),s.appendChild(o)):(o=o.parentNode.parentNode,i=o.nodeName,i!==r&amp;&amp;/^[OU]L$/.test(i)&amp;&amp;v(o,e.createElement(r,[N(o)])))},Ot=function(e){return xt(this,e,&quot;UL&quot;),e},At=function(e){return xt(this,e,&quot;OL&quot;),e},Rt=function(e){var t,n,r,o,i,a,s,d=e.querySelectorAll(&quot;UL, OL&quot;);for(t=0,n=d.length;n&gt;t;t+=1){for(o=d[t],i=N(o),a=i.childNodes,r=a.length;r--;)s=a[r],v(s,N(s));_(i),v(o,i)}return e},Dt=function(e){var t,n,r,o,i,a=e.querySelectorAll(&quot;LI&quot;);for(t=0,n=a.length;n&gt;t;t+=1)r=a[t],l(r.firstChild)||(o=r.parentNode.nodeName,i=r.previousSibling,i&amp;&amp;(i=i.lastChild)&amp;&amp;i.nodeName===o||v(r,this.createElement(&quot;LI&quot;,[i=this.createElement(o)])),i.appendChild(r));return e},Ut=function(e){var t=e.querySelectorAll(&quot;LI&quot;);return Array.prototype.filter.call(t,function(e){return!l(e.firstChild)}).forEach(function(t){var n,r=t.parentNode,o=r.parentNode,i=t.firstChild,a=i;for(t.previousSibling&amp;&amp;(r=y(r,t,o));a&amp;&amp;(n=a.nextSibling,!l(a));)o.insertBefore(a,r),a=n;for(&quot;LI&quot;===o.nodeName&amp;&amp;i.previousSibling&amp;&amp;y(o,i,o.parentNode);t!==e&amp;&amp;!t.childNodes.length;)r=t.parentNode,r.removeChild(t),t=r},this),_(e),e},It=/\b((?:(?:ht|f)tps?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,}\/)(?:[^\s()&lt;&gt;]+|\([^\s()&lt;&gt;]+\))+(?:\((?:[^\s()&lt;&gt;]+|(?:\([^\s()&lt;&gt;]+\)))*\)|[^\s`!()\[\]{};:&#39;&quot;.,&lt;&gt;?«»“”‘’]))|([\w\-.%+]+@(?:[\w\-]+\.)+[A-Z]{2,}\b)/i,Pt=function(e){for(var t,r,o,i,a,s,d,l=e.ownerDocument,c=new n(e,A,function(e){return!u(e,&quot;A&quot;)},!1);t=c.nextNode();)for(r=t.data,o=t.parentNode;i=It.exec(r);)a=i.index,s=a+i[0].length,a&amp;&amp;(d=l.createTextNode(r.slice(0,a)),o.insertBefore(d,t)),d=l.createElement(&quot;A&quot;),d.textContent=r.slice(a,s),d.href=i[1]?/^(?:ht|f)tps?:/.test(i[1])?i[1]:&quot;http://&quot;+i[1]:&quot;mailto:&quot;+i[2],o.insertBefore(d,t),t.data=r=r.slice(s)},wt=/^(?:A(?:DDRESS|RTICLE|SIDE)|BLOCKQUOTE|CAPTION|D(?:[DLT]|IV)|F(?:IGURE|OOTER)|H[1-6]|HEADER|L(?:ABEL|EGEND|I)|O(?:L|UTPUT)|P(?:RE)?|SECTION|T(?:ABLE|BODY|D|FOOT|H|HEAD|R)|UL)$/,Ft={1:10,2:13,3:16,4:18,5:24,6:32,7:48},Mt={backgroundColor:{regexp:Y,replace:function(e,t){return C(e,&quot;SPAN&quot;,{&quot;class&quot;:&quot;highlight&quot;,style:&quot;background-color: &quot;+t})}},color:{regexp:Y,replace:function(e,t){return C(e,&quot;SPAN&quot;,{&quot;class&quot;:&quot;colour&quot;,style:&quot;color:&quot;+t})}},fontWeight:{regexp:/^bold/i,replace:function(e){return C(e,&quot;B&quot;)}},fontStyle:{regexp:/^italic/i,replace:function(e){return C(e,&quot;I&quot;)}},fontFamily:{regexp:Y,replace:function(e,t){return C(e,&quot;SPAN&quot;,{&quot;class&quot;:&quot;font&quot;,style:&quot;font-family:&quot;+t})}},fontSize:{regexp:Y,replace:function(e,t){return C(e,&quot;SPAN&quot;,{&quot;class&quot;:&quot;size&quot;,style:&quot;font-size:&quot;+t})}}},Wt=function(e){return function(t,n){var r=C(t.ownerDocument,e);return n.replaceChild(r,t),r.appendChild(N(t)),r}},Ht={SPAN:function(e,t){var n,r,o,i,a,s,d=e.style,l=e.ownerDocument;for(n in Mt)r=Mt[n],o=d[n],o&amp;&amp;r.regexp.test(o)&amp;&amp;(s=r.replace(l,o),i&amp;&amp;i.appendChild(s),i=s,a||(a=s));return a&amp;&amp;(i.appendChild(N(e)),t.replaceChild(a,e)),i||e},STRONG:Wt(&quot;B&quot;),EM:Wt(&quot;I&quot;),STRIKE:Wt(&quot;S&quot;),FONT:function(e,t){var n,r,o,i,a,s=e.face,d=e.size,l=e.color,c=e.ownerDocument;return s&amp;&amp;(n=C(c,&quot;SPAN&quot;,{&quot;class&quot;:&quot;font&quot;,style:&quot;font-family:&quot;+s}),a=n,i=n),d&amp;&amp;(r=C(c,&quot;SPAN&quot;,{&quot;class&quot;:&quot;size&quot;,style:&quot;font-size:&quot;+Ft[d]+&quot;px&quot;}),a||(a=r),i&amp;&amp;i.appendChild(r),i=r),l&amp;&amp;/^#?([\dA-F]{3}){1,2}$/i.test(l)&amp;&amp;(&quot;#&quot;!==l.charAt(0)&amp;&amp;(l=&quot;#&quot;+l),o=C(c,&quot;SPAN&quot;,{&quot;class&quot;:&quot;colour&quot;,style:&quot;color:&quot;+l}),a||(a=o),i&amp;&amp;i.appendChild(o),i=o),a||(a=i=C(c,&quot;SPAN&quot;)),t.replaceChild(a,e),i.appendChild(N(e)),i},TT:function(e,t){var n=C(e.ownerDocument,&quot;SPAN&quot;,{&quot;class&quot;:&quot;font&quot;,style:&#39;font-family:menlo,consolas,&quot;courier new&quot;,monospace&#39;});return t.replaceChild(n,e),n.appendChild(N(e)),n}},Kt=function(e){for(var t,n=e.childNodes,r=n.length;r--;)t=n[r],t.nodeType!==L||a(t)?t.nodeType!==x||t.data||e.removeChild(t):(Kt(t),s(t)&amp;&amp;!t.firstChild&amp;&amp;e.removeChild(t))},zt=function(e,t){var n,r,o,i,a,d,l,c,f,h,u=e.childNodes;for(n=0,r=u.length;r&gt;n;n+=1)if(o=u[n],i=o.nodeName,a=o.nodeType,d=Ht[i],a===L){if(l=o.childNodes.length,d)o=d(o,e);else{if(!wt.test(i)&amp;&amp;!s(o)){n-=1,r+=l-1,e.replaceChild(N(o),o);continue}!t&amp;&amp;o.style.cssText&amp;&amp;o.removeAttribute(&quot;style&quot;)}l&amp;&amp;zt(o,t)}else{if(a===x){if(c=o.data,/\S/.test(c)){if(s(e))continue;if(f=0,h=c.length,!n||!s(u[n-1])){for(;h&gt;f&amp;&amp;!Y.test(c.charAt(f));)f+=1;f&amp;&amp;(o.data=c=c.slice(f),h-=f)}if(n+1===r||!s(u[n+1])){for(f=h;f&gt;0&amp;&amp;!Y.test(c.charAt(f-1));)f-=1;h&gt;f&amp;&amp;(o.data=c.slice(0,f))}continue}if(n&amp;&amp;r&gt;n+1&amp;&amp;s(u[n-1])&amp;&amp;s(u[n+1])){o.data=&quot; &quot;;continue}}e.removeChild(o),n-=1,r-=1}return e},Zt=function(e){return e.nodeType===L?&quot;BR&quot;===e.nodeName:Y.test(e.data)},Vt=function(e){for(var t,r=e.parentNode;s(r);)r=r.parentNode;return t=new n(r,O|A,Zt),t.currentNode=e,!!t.nextNode()},qt=function(e){var t,n,r,o=e.querySelectorAll(&quot;BR&quot;),i=[],a=o.length;for(t=0;a&gt;t;t+=1)i[t]=Vt(o[t]);for(;a--;)if(n=o[a],r=n.parentNode){for(;s(r);)r=r.parentNode;if(d(r)){if(i[a]){if(&quot;DIV&quot;!==r.nodeName)continue;y(n.parentNode,n,r.parentNode)}m(n)}else _(r)}};Ct._ensureBottomLine=function(){var e=this._body,t=e.lastChild;t&amp;&amp;t.nodeName===this.defaultBlockTag&amp;&amp;d(t)||e.appendChild(this.createDefaultBlock())},Ct._onCut=function(){var e=this.getSelection(),t=this;this._recordUndoState(e),this._getRangeAndRemoveBookmark(e),this.setSelection(e),setTimeout(function(){try{t._ensureBottomLine()}catch(e){t.didError(e)}},0)},Ct._onPaste=function(e){if(!this._awaitingPaste){var t,n,r=e.clipboardData,o=r&amp;&amp;r.items,i=!1,a=!1;if(o){for(t=o.length;t--;){if(n=o[t].type,&quot;text/html&quot;===n){a=!1;break}/^image\/.*/.test(n)&amp;&amp;(a=!0)}if(a)return e.preventDefault(),this.fireEvent(&quot;dragover&quot;,{dataTransfer:r,preventDefault:function(){i=!0}}),void(i&amp;&amp;this.fireEvent(&quot;drop&quot;,{dataTransfer:r}))}this._awaitingPaste=!0;var s,d,l,c,f,u=this,p=this._body,g=this.getSelection();u._recordUndoState(g),u._getRangeAndRemoveBookmark(g),s=g.startContainer,d=g.startOffset,l=g.endContainer,c=g.endOffset,f=ht(g);var v=this.createElement(&quot;DIV&quot;,{style:&quot;position: absolute; overflow: hidden; top:&quot;+(p.scrollTop+(f?f.getBoundingClientRect().top:0))+&quot;px; left: 0; width: 1px; height: 1px;&quot;});p.appendChild(v),g.selectNodeContents(v),this.setSelection(g),setTimeout(function(){try{var e=N(m(v)),t=e.firstChild,n=u._createRange(s,d,l,c);if(t){t===e.lastChild&amp;&amp;&quot;DIV&quot;===t.nodeName&amp;&amp;e.replaceChild(N(t),t),e.normalize(),Pt(e),zt(e,!1),qt(e),Kt(e);for(var r=e,o=!0;r=h(r);)S(r);u.fireEvent(&quot;willPaste&quot;,{fragment:e,preventDefault:function(){o=!1}}),o&amp;&amp;(dt(n,e),$||u._docWasChanged(),n.collapse(!1),u._ensureBottomLine())}u.setSelection(n),u._updatePath(n,!0),u._awaitingPaste=!1}catch(i){u.didError(i)}},0)}};var Qt={8:&quot;backspace&quot;,9:&quot;tab&quot;,13:&quot;enter&quot;,32:&quot;space&quot;,37:&quot;left&quot;,39:&quot;right&quot;,46:&quot;delete&quot;,219:&quot;[&quot;,221:&quot;]&quot;},Gt=function(e){return function(t,n){n.preventDefault(),t[e]()}},$t=function(e,t){return t=t||null,function(n,r){r.preventDefault();var o=n.getSelection();n.hasFormat(e,null,o)?n.changeFormat(null,{tag:e},o):n.changeFormat({tag:e},t,o)}},Yt=function(e,t){try{t||(t=e.getSelection());var n,r=t.startContainer;for(r.nodeType===x&amp;&amp;(r=r.parentNode),n=r;s(n)&amp;&amp;(!n.textContent||n.textContent===P);)r=n,n=r.parentNode;r!==n&amp;&amp;(t.setStart(n,j.call(n.childNodes,r)),t.collapse(!0),n.removeChild(r),d(n)||(n=f(n)),S(n),ct(t)),e._ensureBottomLine(),e.setSelection(t),e._updatePath(t,!0)}catch(o){e.didError(o)}},jt={enter:function(e,t,n){var r,o,i;if(t.preventDefault(),e._recordUndoState(n),Pt(n.startContainer),e._removeZWS(),e._getRangeAndRemoveBookmark(n),n.collapsed||st(n),r=ht(n),!r||/^T[HD]$/.test(r.nodeName))return it(n,e.createElement(&quot;BR&quot;)),n.collapse(!1),e.setSelection(n),void e._updatePath(n,!0);if((o=u(r,&quot;LI&quot;))&amp;&amp;(r=o),!r.textContent){if(u(r,&quot;UL&quot;)||u(r,&quot;OL&quot;))return e.modifyBlocks(Ut,n);if(u(r,&quot;BLOCKQUOTE&quot;))return e.modifyBlocks(Lt,n)}for(i=Bt(e,r,n.startContainer,n.startOffset),_t(r),Kt(r),S(r);i.nodeType===L;){var a,s=i.firstChild;if(&quot;A&quot;!==i.nodeName||i.textContent){for(;s&amp;&amp;s.nodeType===x&amp;&amp;!s.data&amp;&amp;(a=s.nextSibling,a&amp;&amp;&quot;BR&quot;!==a.nodeName);)m(s),s=a;if(!s||&quot;BR&quot;===s.nodeName||s.nodeType===x&amp;&amp;!z)break;i=s}else v(i,N(i)),i=s}n=e._createRange(i,0),e.setSelection(n),e._updatePath(n,!0),i.nodeType===x&amp;&amp;(i=i.parentNode);var d=e._doc,l=e._body;i.offsetTop+i.offsetHeight&gt;(d.documentElement.scrollTop||l.scrollTop)+l.offsetHeight&amp;&amp;i.scrollIntoView(!1)},backspace:function(e,t,n){if(e._removeZWS(),e._recordUndoState(n),e._getRangeAndRemoveBookmark(n),n.collapsed)if(gt(n)){t.preventDefault();var r=ht(n),o=r&amp;&amp;f(r);if(o){if(!o.isContentEditable)return void m(o);for(E(o,r,n),r=o.parentNode;r&amp;&amp;!r.nextSibling;)r=r.parentNode;r&amp;&amp;(r=r.nextSibling)&amp;&amp;B(r),e.setSelection(n)}else if(r){if(u(r,&quot;UL&quot;)||u(r,&quot;OL&quot;))return e.modifyBlocks(Ut,n);if(u(r,&quot;BLOCKQUOTE&quot;))return e.modifyBlocks(bt,n);e.setSelection(n),e._updatePath(n,!0)}}else e.setSelection(n),setTimeout(function(){Yt(e)},0);else t.preventDefault(),st(n),Yt(e,n)},&quot;delete&quot;:function(e,t,n){if(e._removeZWS(),e._recordUndoState(n),e._getRangeAndRemoveBookmark(n),n.collapsed)if(mt(n)){t.preventDefault();var r=ht(n),o=r&amp;&amp;h(r);if(o){if(!o.isContentEditable)return void m(o);for(E(r,o,n),o=r.parentNode;o&amp;&amp;!o.nextSibling;)o=o.parentNode;o&amp;&amp;(o=o.nextSibling)&amp;&amp;B(o),e.setSelection(n),e._updatePath(n,!0)}}else e.setSelection(n),setTimeout(function(){Yt(e)},0);else t.preventDefault(),st(n),Yt(e,n)},tab:function(e,t,n){var r,o;if(e._removeZWS(),n.collapsed&amp;&amp;gt(n)&amp;&amp;mt(n)){for(r=ht(n);o=r.parentNode;){if(&quot;UL&quot;===o.nodeName||&quot;OL&quot;===o.nodeName){r.previousSibling&amp;&amp;(t.preventDefault(),e.modifyBlocks(Dt,n));break}r=o}t.preventDefault()}},space:function(e,t,n){var r,o;e._recordUndoState(n),Pt(n.startContainer),e._getRangeAndRemoveBookmark(n),r=n.endContainer,o=r.parentNode,n.collapsed&amp;&amp;&quot;A&quot;===o.nodeName&amp;&amp;!r.nextSibling&amp;&amp;n.endOffset===g(r)&amp;&amp;n.setStartAfter(o),e.setSelection(n)},left:function(e){e._removeZWS()},right:function(e){e._removeZWS()}};W&amp;&amp;H&amp;&amp;w.getSelection().modify&amp;&amp;(jt[&quot;meta-left&quot;]=function(e,t){t.preventDefault(),e._sel.modify(&quot;move&quot;,&quot;backward&quot;,&quot;lineboundary&quot;)},jt[&quot;meta-right&quot;]=function(e,t){t.preventDefault(),e._sel.modify(&quot;move&quot;,&quot;forward&quot;,&quot;lineboundary&quot;)}),jt[V+&quot;b&quot;]=$t(&quot;B&quot;),jt[V+&quot;i&quot;]=$t(&quot;I&quot;),jt[V+&quot;u&quot;]=$t(&quot;U&quot;),jt[V+&quot;shift-7&quot;]=$t(&quot;S&quot;),jt[V+&quot;shift-5&quot;]=$t(&quot;SUB&quot;,{tag:&quot;SUP&quot;}),jt[V+&quot;shift-6&quot;]=$t(&quot;SUP&quot;,{tag:&quot;SUB&quot;}),jt[V+&quot;shift-8&quot;]=Gt(&quot;makeUnorderedList&quot;),jt[V+&quot;shift-9&quot;]=Gt(&quot;makeOrderedList&quot;),jt[V+&quot;[&quot;]=Gt(&quot;decreaseQuoteLevel&quot;),jt[V+&quot;]&quot;]=Gt(&quot;increaseQuoteLevel&quot;),jt[V+&quot;y&quot;]=Gt(&quot;redo&quot;),jt[V+&quot;z&quot;]=Gt(&quot;undo&quot;),jt[V+&quot;shift-z&quot;]=Gt(&quot;redo&quot;),Ct._onKey=function(e){var t=e.keyCode,n=Qt[t],r=&quot;&quot;,o=this.getSelection();n||(n=String.fromCharCode(t).toLowerCase(),/^[A-Za-z0-9]$/.test(n)||(n=&quot;&quot;)),z&amp;&amp;46===e.which&amp;&amp;(n=&quot;.&quot;),t&gt;111&amp;&amp;124&gt;t&amp;&amp;(n=&quot;f&quot;+(t-111)),&quot;backspace&quot;!==n&amp;&amp;&quot;delete&quot;!==n&amp;&amp;(e.altKey&amp;&amp;(r+=&quot;alt-&quot;),e.ctrlKey&amp;&amp;(r+=&quot;ctrl-&quot;),e.metaKey&amp;&amp;(r+=&quot;meta-&quot;)),e.shiftKey&amp;&amp;(r+=&quot;shift-&quot;),n=r+n,jt[n]?jt[n](this,e,o):1!==n.length||o.collapsed||(this._recordUndoState(o),this._getRangeAndRemoveBookmark(o),st(o),this._ensureBottomLine(),this.setSelection(o),this._updatePath(o,!0))},Ct._getHTML=function(){return this._body.innerHTML},Ct._setHTML=function(e){var t=this._body;t.innerHTML=e;do S(t);while(t=h(t));this._ignoreChange=!0},Ct.getHTML=function(e){var t,n,r,o,i,a=[];if(e&amp;&amp;(i=this.getSelection())&amp;&amp;this._saveRangeToBookmark(i),q)for(t=this._body;t=h(t);)t.textContent||t.querySelector(&quot;BR&quot;)||(n=this.createElement(&quot;BR&quot;),t.appendChild(n),a.push(n));if(r=this._getHTML().replace(/\u200B/g,&quot;&quot;),q)for(o=a.length;o--;)m(a[o]);return i&amp;&amp;this._getRangeAndRemoveBookmark(i),r},Ct.setHTML=function(e){var t,n=this._doc.createDocumentFragment(),r=this.createElement(&quot;DIV&quot;);r.innerHTML=e,n.appendChild(N(r)),zt(n,!0),qt(n),_(n);for(var o=n;o=h(o);)S(o);this._ignoreChange=!0;for(var i=this._body;t=i.lastChild;)i.removeChild(t);i.appendChild(n),S(i),this._undoIndex=-1,this._undoStack.length=0,this._undoStackLength=0,this._isInUndoState=!1;var a=this._getRangeAndRemoveBookmark()||this._createRange(i.firstChild,0);return this._recordUndoState(a),this._getRangeAndRemoveBookmark(a),G?this._lastSelection=a:this.setSelection(a),this._updatePath(a,!0),this</td>
      </tr>
      <tr>
        <td id="L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="LC2" class="blob-code js-file-line">},Ct.insertElement=function(e,t){if(t||(t=this.getSelection()),t.collapse(!0),s(e))it(t,e),t.setStartAfter(e);else{for(var n,r,o=this._body,i=ht(t)||o;i!==o&amp;&amp;!i.nextSibling;)i=i.parentNode;i!==o&amp;&amp;(n=i.parentNode,r=y(n,i.nextSibling,o)),r?(o.insertBefore(e,r),t.setStart(r,0),t.setStart(r,0),ct(t)):(o.appendChild(e),o.appendChild(this.createDefaultBlock()),t.setStart(e,0),t.setEnd(e,0)),this.focus(),this.setSelection(t),this._updatePath(t)}return this},Ct.insertImage=function(e){var t=this.createElement(&quot;IMG&quot;,{src:e});return this.insertElement(t),t};var Xt=function(e,t,n){return function(){return this[e](t,n),this.focus()}};Ct.addStyles=function(e){if(e){var t=this._doc.documentElement.firstChild,n=this.createElement(&quot;STYLE&quot;,{type:&quot;text/css&quot;});n.styleSheet?(t.appendChild(n),n.styleSheet.cssText=e):(n.appendChild(this._doc.createTextNode(e)),t.appendChild(n))}return this},Ct.bold=Xt(&quot;changeFormat&quot;,{tag:&quot;B&quot;}),Ct.italic=Xt(&quot;changeFormat&quot;,{tag:&quot;I&quot;}),Ct.underline=Xt(&quot;changeFormat&quot;,{tag:&quot;U&quot;}),Ct.strikethrough=Xt(&quot;changeFormat&quot;,{tag:&quot;S&quot;}),Ct.subscript=Xt(&quot;changeFormat&quot;,{tag:&quot;SUB&quot;},{tag:&quot;SUP&quot;}),Ct.superscript=Xt(&quot;changeFormat&quot;,{tag:&quot;SUP&quot;},{tag:&quot;SUB&quot;}),Ct.removeBold=Xt(&quot;changeFormat&quot;,null,{tag:&quot;B&quot;}),Ct.removeItalic=Xt(&quot;changeFormat&quot;,null,{tag:&quot;I&quot;}),Ct.removeUnderline=Xt(&quot;changeFormat&quot;,null,{tag:&quot;U&quot;}),Ct.removeStrikethrough=Xt(&quot;changeFormat&quot;,null,{tag:&quot;S&quot;}),Ct.removeSubscript=Xt(&quot;changeFormat&quot;,null,{tag:&quot;SUB&quot;}),Ct.removeSuperscript=Xt(&quot;changeFormat&quot;,null,{tag:&quot;SUP&quot;}),Ct.makeLink=function(e,t){var n=this.getSelection();if(n.collapsed){var r=e.indexOf(&quot;:&quot;)+1;if(r)for(;&quot;/&quot;===e[r];)r+=1;it(n,this._doc.createTextNode(e.slice(r)))}return t||(t={}),t.href=e,this.changeFormat({tag:&quot;A&quot;,attributes:t},{tag:&quot;A&quot;},n),this.focus()},Ct.removeLink=function(){return this.changeFormat(null,{tag:&quot;A&quot;},this.getSelection(),!0),this.focus()},Ct.setFontFace=function(e){return this.changeFormat({tag:&quot;SPAN&quot;,attributes:{&quot;class&quot;:&quot;font&quot;,style:&quot;font-family: &quot;+e+&quot;, sans-serif;&quot;}},{tag:&quot;SPAN&quot;,attributes:{&quot;class&quot;:&quot;font&quot;}}),this.focus()},Ct.setFontSize=function(e){return this.changeFormat({tag:&quot;SPAN&quot;,attributes:{&quot;class&quot;:&quot;size&quot;,style:&quot;font-size: &quot;+(&quot;number&quot;==typeof e?e+&quot;px&quot;:e)}},{tag:&quot;SPAN&quot;,attributes:{&quot;class&quot;:&quot;size&quot;}}),this.focus()},Ct.setTextColour=function(e){return this.changeFormat({tag:&quot;SPAN&quot;,attributes:{&quot;class&quot;:&quot;colour&quot;,style:&quot;color: &quot;+e}},{tag:&quot;SPAN&quot;,attributes:{&quot;class&quot;:&quot;colour&quot;}}),this.focus()},Ct.setHighlightColour=function(e){return this.changeFormat({tag:&quot;SPAN&quot;,attributes:{&quot;class&quot;:&quot;highlight&quot;,style:&quot;background-color: &quot;+e}},{tag:&quot;SPAN&quot;,attributes:{&quot;class&quot;:&quot;highlight&quot;}}),this.focus()},Ct.setTextAlignment=function(e){return this.forEachBlock(function(t){t.className=(t.className.split(/\s+/).filter(function(e){return!/align/.test(e)}).join(&quot; &quot;)+&quot; align-&quot;+e).trim(),t.style.textAlign=e},!0),this.focus()},Ct.setTextDirection=function(e){return this.forEachBlock(function(t){t.className=(t.className.split(/\s+/).filter(function(e){return!/dir/.test(e)}).join(&quot; &quot;)+&quot; dir-&quot;+e).trim(),t.dir=e},!0),this.focus()},Ct.increaseQuoteLevel=Xt(&quot;modifyBlocks&quot;,kt),Ct.decreaseQuoteLevel=Xt(&quot;modifyBlocks&quot;,bt),Ct.makeUnorderedList=Xt(&quot;modifyBlocks&quot;,Ot),Ct.makeOrderedList=Xt(&quot;modifyBlocks&quot;,At),Ct.removeList=Xt(&quot;modifyBlocks&quot;,Rt),Ct.increaseListLevel=Xt(&quot;modifyBlocks&quot;,Dt),Ct.decreaseListLevel=Xt(&quot;modifyBlocks&quot;,Ut),top!==w?(w.editor=new k(e),w.onEditorLoad&amp;&amp;(w.onEditorLoad(w.editor),w.onEditorLoad=null)):w.Squire=k}(document);</td>
      </tr>
</table>

  </div>

</div>

<a href="#jump-to-line" rel="facebox[.linejump]" data-hotkey="l" style="display:none">Jump to Line</a>
<div id="jump-to-line" style="display:none">
  <form accept-charset="UTF-8" action="" class="js-jump-to-line-form" method="get"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
    <input class="linejump-input js-jump-to-line-field" type="text" placeholder="Jump to line&hellip;" autofocus>
    <button type="submit" class="btn">Go</button>
</form></div>

        </div>

      </div><!-- /.repo-container -->
      <div class="modal-backdrop"></div>
    </div><!-- /.container -->
  </div><!-- /.site -->


    </div><!-- /.wrapper -->

      <div class="container">
  <div class="site-footer" role="contentinfo">
    <ul class="site-footer-links right">
        <li><a href="https://status.github.com/" data-ga-click="Footer, go to status, text:status">Status</a></li>
      <li><a href="https://developer.github.com" data-ga-click="Footer, go to api, text:api">API</a></li>
      <li><a href="https://training.github.com" data-ga-click="Footer, go to training, text:training">Training</a></li>
      <li><a href="https://shop.github.com" data-ga-click="Footer, go to shop, text:shop">Shop</a></li>
        <li><a href="https://github.com/blog" data-ga-click="Footer, go to blog, text:blog">Blog</a></li>
        <li><a href="https://github.com/about" data-ga-click="Footer, go to about, text:about">About</a></li>

    </ul>

    <a href="https://github.com" aria-label="Homepage">
      <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
</a>
    <ul class="site-footer-links">
      <li>&copy; 2015 <span title="0.05355s from github-fe126-cp1-prd.iad.github.net">GitHub</span>, Inc.</li>
        <li><a href="https://github.com/site/terms" data-ga-click="Footer, go to terms, text:terms">Terms</a></li>
        <li><a href="https://github.com/site/privacy" data-ga-click="Footer, go to privacy, text:privacy">Privacy</a></li>
        <li><a href="https://github.com/security" data-ga-click="Footer, go to security, text:security">Security</a></li>
        <li><a href="https://github.com/contact" data-ga-click="Footer, go to contact, text:contact">Contact</a></li>
    </ul>
  </div>
</div>


    <div class="fullscreen-overlay js-fullscreen-overlay" id="fullscreen_overlay">
  <div class="fullscreen-container js-suggester-container">
    <div class="textarea-wrap">
      <textarea name="fullscreen-contents" id="fullscreen-contents" class="fullscreen-contents js-fullscreen-contents" placeholder=""></textarea>
      <div class="suggester-container">
        <div class="suggester fullscreen-suggester js-suggester js-navigation-container"></div>
      </div>
    </div>
  </div>
  <div class="fullscreen-sidebar">
    <a href="#" class="exit-fullscreen js-exit-fullscreen tooltipped tooltipped-w" aria-label="Exit Zen Mode">
      <span class="mega-octicon octicon-screen-normal"></span>
    </a>
    <a href="#" class="theme-switcher js-theme-switcher tooltipped tooltipped-w"
      aria-label="Switch themes">
      <span class="octicon octicon-color-mode"></span>
    </a>
  </div>
</div>



    
    

    <div id="ajax-error-message" class="flash flash-error">
      <span class="octicon octicon-alert"></span>
      <a href="#" class="octicon octicon-x flash-close js-ajax-error-dismiss" aria-label="Dismiss error"></a>
      Something went wrong with that request. Please try again.
    </div>


      <script crossorigin="anonymous" src="https://assets-cdn.github.com/assets/frameworks-d22b59d0085e83b7549ba4341ec9e68f80c2f29c8e49213ee182003dc8d568c6.js"></script>
      <script async="async" crossorigin="anonymous" src="https://assets-cdn.github.com/assets/github-3b4fde20974117506181132ac0ad3588b632eb7b8b8347002c439b67027b0227.js"></script>
      
      

  </body>
</html>

